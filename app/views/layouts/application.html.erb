<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= content_for(:title) || "Lizard" %></title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">

    <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <%= javascript_importmap_tags %>
</head>
<body>
  <header>
    <% if content_for?(:header) %>
      <%= yield(:header) %>
    <% else %>
      <h1 style="display: inline-block; margin-right: 2rem;"><%= link_to "ðŸ¦Ž Lizard", root_path, class: "title-link" %></h1>
      <nav style="display: inline-block;">
        <%= link_to "Projects", projects_path %>
        <span style="margin: 0 1rem;">|</span>
        <%= link_to "Logout", logout_path, style: "color: #666; text-decoration: underline;" %>
      </nav>
    <% end %>
  </header>

  <main>
    <% flash.each do |type, message| %>
      <div class="<%= type == 'notice' ? 'success' : 'error' %>">
        <%= message %>
      </div>
    <% end %>

    <%= yield %>
  </main>

  <footer>
    <%= yield(:footer) if content_for?(:footer) %>
    <p>&copy; <%= Date.current.year %> Lizard</p>
  </footer>
</body>
</html>
